# 4-3. 교환 제품 배송 확인서 — 확인·결정 항목

이 양식은 **제품 교환·배송** 시 회원 정보, 교환/배송 제품 목록, 배송 약관 동의를 기록하는 **확인서**입니다.  
04-01(고객 환불 확인서)과 유사한 흐름으로, 작업 전 아래 항목에 답변해 주시면 그에 맞춰 입력 화면·PDF·데이터 구조를 설계하겠습니다.

---

## 1. 문서 ID

- **형식**: 다른 양식처럼 `{접두어}-{storeId}-YYYYMMDD-001` 형태로 할까요? 접두어는 무엇으로 할까요? (예: PED, EXD, PDE 등)
- **000** 자리: 데모에서는 001 고정으로 둬도 될까요?

**답변:**
원본 양식은 DC로 시작하니 DC로 지정.

**정리:** 문서 ID **DC-{storeId}-YYYYMMDD-001**. 접두어 DC(원본 양식 기준), 데모 001 고정.

---

## 2. 고객 정보

체크리스트: 회원번호, 회원명.

- **표시 항목**: **회원번호·회원명만** 넣을까요? 아니면 04-01처럼 **이름(실명 우선), Title, 회원번호, 연락처(국가번호+전화), 이메일** 5항목 통일?
- **고객명**: **실명 우선**(입력화면 실명 → 없으면 POS 회원명) 적용할까요?
- **데이터 출처**: 전부 POS에서 주입(선택 고객 기준)?

**답변:**
5개 항목으로 모두 POS 데이터 사용.
pdf 화면은 고객명을 실명 우선으로 적용하는것 역시 동일한 기준이야.

**정리:** 고객정보 = 다른 양식과 동일 5항목(이름 실명 우선, Title, 회원번호, 연락처 국가번호+전화, 이메일). POS 주입. PDF 고객명도 실명 우선 동일 적용.

---

## 3. 제품 목록 (교환/배송 제품명, 수량)

- **데이터 출처**: **POS/재고 데이터** 연동? 데모에서는 **샘플 데이터**만? (샘플이 있으면 배열명/구조 알려주시거나, 04-01의 SAMPLE_SALES·04-02의 SAMPLE_APPOINTMENTS처럼 **새 SAMPLE_EXCHANGE_PRODUCTS** 등을 만들어도 될까요?)
- **선택 방식**: **한 건만** 선택(04-01처럼)? 아니면 **여러 제품** 선택 가능(제품명 + 수량 여러 행)?
- **UI**: **레이어 팝업**에서 제품 선택 후 테이블에 추가? 아니면 **같은 화면 내 테이블 + 행 추가/삭제**?
- **테이블 컬럼**: 제품명, 수량만? **제품 코드**, **비고** 등 추가 컬럼 필요?
- **수량**: 숫자만? 최소/최대 제한이 있나요?

**답변:**
샘플데이터 (window.HKPOS.SAMPLE_SALES) 를 이용한 레이어 팝업을 쓸거야.
실제로 04-01의 반품상품 선택하는 팝업과 UI는 동일하지만 제품을 2개 이상 선택할 수 있어야 하고, 수량은 직접 수정할 수 있어야해.
기존 팝업을 수정할 필요는 없고 다시 만드는게 좋을거야. 어차피 개발할때는 이부분 고려해서 만들거니 데모에 너무 많은 코드를 넣을 필요 없어.

**정리:** 제품 목록 = **레이어 팝업**에서 **SAMPLE_SALES** 기준 선택(04-01과 유사 UI, 04-03 전용 신규 구현). **복수 제품 선택**(2개 이상 가능). 선택한 항목은 메인 테이블에 행으로 추가, **수량 컬럼 직접 수정 가능**. 테이블 컬럼: 제품명(또는 productInfo), 수량.

---

## 4. 배송 약관 및 조건 (6개 항목)

체크리스트 요약:
1. 홍콩 내 주문만 접수 (해외 제외)
2. 고객의 시간 내 수령 실패 시 조건 및 행정 수수료 ($100), 주문 취소 가능
3. 배송 주소 변경 절차 및 배송비 ($20)
4. "자택 배송 서비스" 조건: 올바른 수령인 정보, PO Box 불가, 특정 지역 제외, 주거지 배송 SF Express 예약 필요
5. 배송된 상품 문제 발생 시 1 영업일 내 신고 (고객명, 연락처, 송장 번호, 배송 주문 번호, 제품 사진)
6. 기타 배송 관련 조건

- **문구**: **고정 문구**(읽기 전용)로 넣을까요? 데모용 **영문**으로 작성해도 될까요?
- **원본**: 원본 이미지/문서에 있는 **정확 문구**를 그대로 쓸 계획이시면, 텍스트를 붙여넣어 주시면 반영하겠습니다.

**답변:**
양식의 체크리스트를 보면 2번이 빠져 있어. 이부분 감안해서 영문으로 고정해서 사용할거야.
정확 문구가 뭔지 잘 모르겠지만 pdf 양식은 동일한 문장을 사용해줘. (법적근거)

**정리:** 배송 약관 = **고정 영문** 6개 항목(원본 체크리스트 기준, 2번 누락 반영), 읽기 전용. 입력 화면·PDF **동일 문구** 사용(법적 근거).

---

## 5. 확인 체크박스

- **개수**: **1개**(예: "위 배송 약관 및 조건을 확인하였으며 동의합니다")면 충분한가요?
- **필수**: 체크 필수로 하고, 미체크 시 "다음" 진행 막을까요?

**답변:**
1개면 충분하고, 필수 입력사항으로 체크 안하면 진행 불가.

**정리:** 확인 체크박스 **1개**, **필수** 체크, 미체크 시 "다음" 진행 불가.

---

## 6. 관리 정보 (Store / Staff)

- **입력 화면**: Store Registration, Responsible Staff **표시**할까요? (04-01처럼)
- **PDF**: 입력 화면과 동일하게 표시? 아니면 **PDF에서는 미표시**? (04-01·04-02는 PDF 미표시)

**답변:**
기존화면과 동일

**정리:** 입력 화면 Store/Staff **표시**(04-01과 동일). PDF **미표시**.

---

## 7. 서명 및 Date/Time

- **서명**: 다른 양식과 동일하게 **서명 패드 수집** 후 PDF에 반영?
- **Date/Time**: 서명 시점 **자동 생성**으로 할까요? (다른 양식과 동일)

**답변:**
기존화면과 동일

**정리:**


---

## 8. 자동 생성(데모용)

- **자동 생성 버튼**: 04-01처럼 **"자동 생성"** 버튼으로 고객 정보·제품 목록 등 샘플 데이터 채우기 제공할까요?

**답변:**
기존화면과 동일

**정리:** **"자동 생성"** 버튼 제공(고객 정보·제품 목록 등 샘플 데이터 채우기, 데모용).

---

## 9. 언어

- **양식 본문**: 데모 **영문**으로 할까요?
- **알림/확인 메시지**: **한국어**로 할까요? (초기화 확인, 레이어 팝업 안내 등)

**답변:**
기존화면과 동일

**정리:**


---

## 10. 파일명 및 PDF 구성

- **입력 폼 파일명**: `forms/04-03_form_product-exchange-delivery.html` 로 할까요?
- **PDF 파일명**: `forms/pdf/04-03_pdf_product-exchange-delivery.html` 로 할까요?
- **PDF 페이지 수**: 체크리스트 기준 **1페이지** — 한 페이지에 고객 정보·제품 목록·배송 약관·체크박스·서명 모두 넣을까요? (공간 부족 시 글자 크기/간격 조정)

**답변:**
네. 1페이지로 만들어줘.

**정리:** 입력 폼 `forms/04-03_form_product-exchange-delivery.html`, PDF `forms/pdf/04-03_pdf_product-exchange-delivery.html`. PDF **1페이지**(고객 정보·제품 목록·배송 약관·체크박스·서명 모두 수용, 필요 시 간격 조정).

---

## 추가 질문 (구현 전 확인)

아래 한 가지만 정해 주시면 구현 시 반영하겠습니다.

**제품 목록 — 날짜 필터**  
04-01에서는 레이어 팝업에 **영업일자(날짜)** 검색 조건이 있고 기본값이 오늘입니다. 04-03 교환/배송 제품 선택 팝업에도 **동일하게 날짜 조건**(기본 오늘)을 둘까요?  
- 넣을 경우: SAMPLE_SALES를 해당 날짜로 필터해서 목록 표시.  
- 넣지 않을 경우: 날짜 없이 SAMPLE_SALES 전체(또는 데모용 고정 목록) 표시.

**답변:**
날짜로 필터 해야 하고, 기본은 오늘날짜로 해줘.

**정리:** 제품 선택 레이어 팝업에 **영업일자(날짜)** 검색 조건 포함. SAMPLE_SALES를 해당 날짜로 필터하여 목록 표시. **기본값: 2026-01-30**(데모 시 항상 목록 노출, 04-01·04-02와 동일).
